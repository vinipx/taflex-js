"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8507],{2467(e,t,s){s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"tutorials/api-tests","title":"API Testing Tutorial","description":"Learn how to master the Dual API Strategy in TAFLEX JS. Choose the right tool for the right job: Playwright for integrated flows or Axios for high-performance specialized tests.","source":"@site/docs/tutorials/api-tests.md","sourceDirName":"tutorials","slug":"/tutorials/api-tests","permalink":"/taflex-js/docs/tutorials/api-tests","draft":false,"unlisted":false,"editUrl":"https://github.com/vinipx/taflex-js/tree/main/docs/docs/tutorials/api-tests.md","tags":[],"version":"current","lastUpdatedAt":1771082300000,"frontMatter":{},"sidebar":"docs","previous":{"title":"BDD Testing Tutorial","permalink":"/taflex-js/docs/tutorials/bdd-tests"},"next":{"title":"Mobile Testing Tutorial","permalink":"/taflex-js/docs/tutorials/mobile-tests"}}');var n=s(4848),i=s(8453);const o={},a="API Testing Tutorial",c={},d=[{value:"1. Hybrid Approach (Playwright)",id:"1-hybrid-approach-playwright",level:2},{value:"Creating the Test",id:"creating-the-test",level:3},{value:"2. Specialized Approach (Axios + Vitest)",id:"2-specialized-approach-axios--vitest",level:2},{value:"Creating the Test",id:"creating-the-test-1",level:3},{value:"3. Which one should I choose?",id:"3-which-one-should-i-choose",level:2},{value:"4. Best Practices",id:"4-best-practices",level:2}];function l(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"api-testing-tutorial",children:"API Testing Tutorial"})}),"\n",(0,n.jsxs)(t.p,{children:["Learn how to master the ",(0,n.jsx)(t.strong,{children:"Dual API Strategy"})," in TAFLEX JS. Choose the right tool for the right job: Playwright for integrated flows or Axios for high-performance specialized tests."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"1-hybrid-approach-playwright",children:"1. Hybrid Approach (Playwright)"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Use case:"})," Integrated tests where you need to share authentication with a browser or see API calls in a Trace Viewer."]}),"\n",(0,n.jsx)(t.h3,{id:"creating-the-test",children:"Creating the Test"}),"\n",(0,n.jsxs)(t.p,{children:["Create a standard Playwright spec in ",(0,n.jsx)(t.code,{children:"tests/api/"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"import { test, expect } from '../fixtures.js';\n\ntest.describe('Hybrid API Strategy (Playwright)', () => {\n    // 1. Configure mode\n    test.use({ mode: 'api' });\n\n    test('should validate user profile integration', async ({ driver }) => {\n        // 2. Perform request\n        const response = await driver.get('/users/1');\n        \n        // 3. Assert using Playwright matchers\n        expect(response.status()).toBe(200);\n        const user = await response.json();\n        expect(user.username).toBe('Bret');\n    });\n});\n"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"How to run:"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"npx playwright test tests/api/\n"})}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"2-specialized-approach-axios--vitest",children:"2. Specialized Approach (Axios + Vitest)"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Use case:"})," Standalone API testing, contract validation, and extreme execution speed."]}),"\n",(0,n.jsx)(t.h3,{id:"creating-the-test-1",children:"Creating the Test"}),"\n",(0,n.jsxs)(t.p,{children:["Create a file ending in ",(0,n.jsx)(t.code,{children:".axios.spec.js"})," in ",(0,n.jsx)(t.code,{children:"tests/api/"}),". These tests use ",(0,n.jsx)(t.strong,{children:"Vitest"})," as the runner."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"import { describe, it, expect, beforeAll } from 'vitest';\nimport { DriverFactory } from '../../src/core/drivers/driver.factory.js';\n\ndescribe('Specialized API Strategy (Axios + Vitest)', () => {\n    let driver;\n\n    beforeAll(async () => {\n        // 1. Initialize driver with api mode\n        // Ensure API_PROVIDER=axios is set in .env\n        driver = DriverFactory.create('api'); \n        await driver.initialize({\n            apiBaseUrl: 'https://jsonplaceholder.typicode.com'\n        });\n    });\n\n    it('should validate user contract with high performance', async () => {\n        // 2. Perform request\n        const response = await driver.get('/users/1');\n        \n        // 3. Standard Vitest assertions\n        expect(response.status()).toBe(200);\n        const user = await response.json();\n        expect(user.id).toBe(1);\n    });\n});\n"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"How to run:"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"# Set provider if not default in .env\nAPI_PROVIDER=axios npm run test:unit\n"})}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"3-which-one-should-i-choose",children:"3. Which one should I choose?"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Feature"}),(0,n.jsx)(t.th,{children:"Playwright Strategy"}),(0,n.jsx)(t.th,{children:"Axios Strategy"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Runner"})}),(0,n.jsx)(t.td,{children:"Playwright"}),(0,n.jsx)(t.td,{children:"Vitest"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Speed"})}),(0,n.jsx)(t.td,{children:"Moderate"}),(0,n.jsx)(t.td,{children:"Fast (Blazing)"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Trace Viewer"})}),(0,n.jsx)(t.td,{children:"Yes"}),(0,n.jsx)(t.td,{children:"No"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Authentication Sharing"})}),(0,n.jsx)(t.td,{children:"Native with Browser"}),(0,n.jsx)(t.td,{children:"Manual"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Watch Mode"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"npx playwright test --ui"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.code,{children:"npm run test:unit"})," (Auto-watch)"]})]})]})]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"4-best-practices",children:"4. Best Practices"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Shared Locators"}),": Use ",(0,n.jsx)(t.code,{children:"src/resources/locators/api/common.json"})," to store endpoints for both strategies."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Environment URLs"}),": Always rely on ",(0,n.jsx)(t.code,{children:"API_BASE_URL"})," in your ",(0,n.jsx)(t.code,{children:".env"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Validation"}),": For both strategies, the ",(0,n.jsx)(t.code,{children:"driver"})," wrapper provides consistent ",(0,n.jsx)(t.code,{children:"status()"}),", ",(0,n.jsx)(t.code,{children:"json()"}),", and ",(0,n.jsx)(t.code,{children:"ok()"})," methods to keep your code portable."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453(e,t,s){s.d(t,{R:()=>o,x:()=>a});var r=s(6540);const n={},i=r.createContext(n);function o(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);