"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6065],{9396(e,t,i){i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"guides/api-testing","title":"API Testing","description":"TAFLEX JS employs a Dual API Strategy that allows you to choose the best tool for your specific testing needs.","source":"@site/docs/guides/api-testing.md","sourceDirName":"guides","slug":"/guides/api-testing","permalink":"/taflex-js/docs/guides/api-testing","draft":false,"unlisted":false,"editUrl":"https://github.com/vinipx/taflex-js/tree/main/docs/docs/guides/api-testing.md","tags":[],"version":"current","lastUpdatedAt":1771082300000,"frontMatter":{},"sidebar":"docs","previous":{"title":"Locators Management","permalink":"/taflex-js/docs/guides/locators"},"next":{"title":"BDD Testing","permalink":"/taflex-js/docs/guides/bdd-testing"}}');var n=i(4848),r=i(8453);const d={},a="API Testing",o={},l=[{value:"1. Hybrid API Testing (Playwright)",id:"1-hybrid-api-testing-playwright",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Writing an API Test",id:"writing-an-api-test",level:2},{value:"Available Methods",id:"available-methods",level:2},{value:"2. Specialized API Testing (Axios + Vitest)",id:"2-specialized-api-testing-axios--vitest",level:2},{value:"Configuration",id:"configuration-1",level:3},{value:"Writing a Vitest API Test",id:"writing-a-vitest-api-test",level:3},{value:"Running Specialized Tests",id:"running-specialized-tests",level:3}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"api-testing",children:"API Testing"})}),"\n",(0,n.jsxs)(t.p,{children:["TAFLEX JS employs a ",(0,n.jsx)(t.strong,{children:"Dual API Strategy"})," that allows you to choose the best tool for your specific testing needs."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Strategy"}),(0,n.jsx)(t.th,{children:"Engine"}),(0,n.jsx)(t.th,{children:"Best For..."})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Hybrid (E2E)"})}),(0,n.jsx)(t.td,{children:"Playwright"}),(0,n.jsx)(t.td,{children:"API calls within UI flows (setup/teardown), shared authentication with browser context, and integrated tracing."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"Specialized (Logic)"})}),(0,n.jsx)(t.td,{children:"Axios + Vitest"}),(0,n.jsx)(t.td,{children:"High-volume contract testing, complex business logic validation, and standalone API suites requiring maximum execution speed."})]})]})]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"1-hybrid-api-testing-playwright",children:"1. Hybrid API Testing (Playwright)"}),"\n",(0,n.jsxs)(t.p,{children:["This strategy uses Playwright's ",(0,n.jsx)(t.code,{children:"APIRequestContext"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,n.jsxs)(t.p,{children:["Ensure ",(0,n.jsx)(t.code,{children:"API_BASE_URL"})," is set in your ",(0,n.jsx)(t.code,{children:".env"})," file."]}),"\n",(0,n.jsx)(t.h2,{id:"writing-an-api-test",children:"Writing an API Test"}),"\n",(0,n.jsxs)(t.p,{children:["Use the ",(0,n.jsx)(t.code,{children:"test"})," fixture and set the ",(0,n.jsx)(t.code,{children:"mode"})," to ",(0,n.jsx)(t.code,{children:"api"}),"."]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"import { test, expect } from '../fixtures.js';\n\ntest.describe('User API', () => {\n    test.use({ mode: 'api' });\n\n    test('get user details', async ({ driver }) => {\n        const response = await driver.get('/users/1');\n        expect(response.ok()).toBeTruthy();\n        \n        const user = await response.json();\n        expect(user.username).toBe('Bret');\n    });\n});\n"})}),"\n",(0,n.jsx)(t.h2,{id:"available-methods",children:"Available Methods"}),"\n",(0,n.jsx)(t.p,{children:"The API driver supports standard HTTP methods:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"driver.get(url, options)"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"driver.post(url, options)"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"driver.put(url, options)"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.code,{children:"driver.delete(url, options)"})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"2-specialized-api-testing-axios--vitest",children:"2. Specialized API Testing (Axios + Vitest)"}),"\n",(0,n.jsxs)(t.p,{children:["For high-performance, pure API tests (without UI dependencies), TAFLEX JS supports a specialized strategy using ",(0,n.jsx)(t.strong,{children:"Axios"})," and ",(0,n.jsx)(t.strong,{children:"Vitest"}),". This is ideal for contract testing and logic validation due to its extreme execution speed and superior developer experience (watch mode)."]}),"\n",(0,n.jsx)(t.h3,{id:"configuration-1",children:"Configuration"}),"\n",(0,n.jsxs)(t.p,{children:["Set the provider in your ",(0,n.jsx)(t.code,{children:".env"}),":"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-env",children:"API_PROVIDER=axios\n"})}),"\n",(0,n.jsx)(t.h3,{id:"writing-a-vitest-api-test",children:"Writing a Vitest API Test"}),"\n",(0,n.jsxs)(t.p,{children:["Create a file ending in ",(0,n.jsx)(t.code,{children:".axios.spec.js"})," in your ",(0,n.jsx)(t.code,{children:"tests/api/"})," directory:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",children:"import { describe, it, expect, beforeAll } from 'vitest';\nimport { DriverFactory } from '../../src/core/drivers/driver.factory.js';\n\ndescribe('Specialized API', () => {\n    let driver;\n\n    beforeAll(async () => {\n        driver = DriverFactory.create('api'); \n        await driver.initialize({\n            apiBaseUrl: 'https://api.example.com'\n        });\n    });\n\n    it('should fetch data', async () => {\n        const response = await driver.get('/endpoint');\n        expect(response.status()).toBe(200);\n        const data = await response.json();\n        expect(data.id).toBeDefined();\n    });\n});\n"})}),"\n",(0,n.jsx)(t.h3,{id:"running-specialized-tests",children:"Running Specialized Tests"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"npm run test:unit\n"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453(e,t,i){i.d(t,{R:()=>d,x:()=>a});var s=i(6540);const n={},r=s.createContext(n);function d(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:d(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);